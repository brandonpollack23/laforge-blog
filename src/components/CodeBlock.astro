---
import { promises as fs } from "node:fs";
import { Prism } from "@astrojs/prism";

const { class: className, filename, lang } = Astro.props;

/// WARNING filename must be relative to project root!
let fileContents = (await fs.readFile(filename)).toString();
---

<Prism class={className} lang={lang} code={fileContents} />
